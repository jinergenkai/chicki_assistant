{
  "nodes": [
    {
      "id": "root",
      "label": "Home",
      "description": "Starting point - select a book to begin learning",
      "allowed_intents": [
        "listBook",
        "selectBook",
        "startConversation"
      ]
    },
    {
      "id": "book_context",
      "label": "Book Selection",
      "description": "Browsing available books",
      "allowed_intents": [
        "selectBook",
        "listBook",
        "startConversation"
      ]
    },
    {
      "id": "vocab_session",
      "label": "Flashcard Learning",
      "description": "Active flashcard learning session",
      "allowed_intents": [
        "nextCard",
        "prevCard",
        "flipCard",
        "bookmarkWord",
        "startConversation"
      ]
    },
    {
      "id": "conversation_mode",
      "label": "Conversation",
      "description": "Free conversation with AI assistant",
      "allowed_intents": [
        "stopConversation"
      ]
    }
  ],
  "edges": [
    {
      "from": "root",
      "intent": "listBook",
      "to": "book_context"
    },
    {
      "from": "root",
      "intent": "selectBook",
      "to": "vocab_session"
    },
    {
      "from": "root",
      "intent": "startConversation",
      "to": "conversation_mode"
    },
    {
      "from": "book_context",
      "intent": "selectBook",
      "to": "vocab_session"
    },
    {
      "from": "book_context",
      "intent": "listBook",
      "to": "book_context"
    },
    {
      "from": "book_context",
      "intent": "startConversation",
      "to": "conversation_mode"
    },
    {
      "from": "vocab_session",
      "intent": "nextCard",
      "to": "vocab_session"
    },
    {
      "from": "vocab_session",
      "intent": "prevCard",
      "to": "vocab_session"
    },
    {
      "from": "vocab_session",
      "intent": "flipCard",
      "to": "vocab_session"
    },
    {
      "from": "vocab_session",
      "intent": "bookmarkWord",
      "to": "vocab_session"
    },
    {
      "from": "vocab_session",
      "intent": "startConversation",
      "to": "conversation_mode"
    },
    {
      "from": "conversation_mode",
      "intent": "stopConversation",
      "to": "root"
    }
  ],
  "universal_intents": []
}